import{c as e}from"./index.5638c92a.js";import{s as t}from"./utils.1dbcb5de.js";import{C as n,D as a,E as o,F as r}from"./vendor.ad595088.js";const c=document.querySelector("#parent-wrapper"),l=document.querySelector("#canvas-wrapper"),s=document.querySelector("#canvas"),i=document.querySelector("#num-points"),d=document.querySelector("#num-points-value"),u=document.querySelector("#point-size"),m=document.querySelector("#point-size-value"),p=document.querySelector("#opacity"),g=document.querySelector("#opacity-value"),y=document.querySelector("#click-lasso-initiator"),v=document.querySelector("#reset"),S=document.querySelector("#export"),h=document.querySelector("#example-axes");h.setAttribute("class","active"),h.removeAttribute("href");const b=n().domain([0,42]),w=n().domain([0,4.2]),f=o(b),q=r(w),L=a(c).append("svg"),E=L.append("g"),k=L.append("g");L.node().style.position="absolute",L.node().style.top=0,L.node().style.left=0,L.node().style.width="100%",L.node().style.height="100%",L.node().style.pointerEvents="none",l.style.right="40px",l.style.bottom="20px";let{width:x,height:z}=l.getBoundingClientRect();console.log(x,z),E.attr("transform",`translate(0, ${z})`).call(f),k.attr("transform",`translate(${x}, 0)`).call(q),f.tickSizeInner(-z),q.tickSizeInner(-x);let M=[],$=1e5,I=2,C=.5,H=[];const T=e({canvas:s,pointSize:I,xScale:b,yScale:w,showReticle:!0,lassoInitiator:!0});S.addEventListener("click",(()=>t(T))),console.log(`Scatterplot v${T.get("version")}`),T.subscribe("select",(({points:e})=>{if(console.log("Selected:",e),H=e,1===H.length){const e=M[H[0]];console.log(`X: ${e[0]}\nY: ${e[1]}\nCategory: ${e[2]}\nValue: ${e[3]}`)}})),T.subscribe("deselect",(()=>{console.log("Deselected:",H),H=[]})),T.subscribe("view",(e=>{E.call(f.scale(e.xScale)),k.call(q.scale(e.yScale))})),T.subscribe("init",(()=>{E.call(f.scale(T.get("xScale"))),k.call(q.scale(T.get("yScale")))}),1);const j=()=>{({width:x,height:z}=l.getBoundingClientRect()),E.attr("transform",`translate(0, ${z})`).call(f),k.attr("transform",`translate(${x}, 0)`).call(q),f.tickSizeInner(-z),q.tickSizeInner(-x)};window.addEventListener("resize",j),window.addEventListener("orientationchange",j);const A=e=>{$=e,i.value=$,d.innerHTML=$,M=new Array($).fill().map((()=>[2*Math.random()-1,2*Math.random()-1,Math.round(9*Math.random()),Math.random()])),T.draw(M)};i.addEventListener("input",(e=>{d.innerHTML=+e.target.value+" <em>release to redraw</em>"}));i.addEventListener("change",(e=>A(+e.target.value)));const B=e=>{I=e,u.value=I,m.innerHTML=I,T.set({pointSize:I})};u.addEventListener("input",(e=>B(+e.target.value)));const R=e=>{C=e,p.value=C,g.innerHTML=C,T.set({opacity:C})};p.addEventListener("input",(e=>R(+e.target.value)));y.addEventListener("change",(e=>{T.set({lassoInitiator:e.target.checked})})),y.checked=T.get("lassoInitiator");v.addEventListener("click",(()=>{T.reset()})),T.set({colorBy:"category",pointColor:["#d192b7","#6fb2e4","#eecb62","#56bf92","#dca237","#3a84cc","#c76526"]}),B(I),R(C),A($);
